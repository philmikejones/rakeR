<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>integerise — integerise • rakeR</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rakeR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>integerise</h1>
    </div>

    
    <p>Generate integer cases from numeric weights matrix.</p>
    

    <pre class="usage"><span class='fu'>integerise</span>(<span class='no'>weights</span>, <span class='no'>inds</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"trs"</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>42</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>weights</th>
      <td><p>A matrix or data frame of fractional weights, typically
provided by <code><a href='http://www.rdocumentation.org/packages/rakeR/topics/weight'>rakeR::weight()</a></code></p></td>
    </tr>
    <tr>
      <th>inds</th>
      <td><p>The individual--level data (i.e. one row per individual)</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>The integerisation method specified as a character string.
Defaults to <code>"trs"</code>; currently other methods are not implemented.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>The seed to use, defaults to 42.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame of integerised cases</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Extracted weights (using rakeR::extract()) are more 'precise' than
integerised weights (although the user should be careful this is not
spurious precision based on context) as they return fractions.
Nevertheless, integerised weights are useful in cases when:</p><ul>
<li><p>Numeric information (such as income) is required, as this needs
    to be cut() to work with rakeR::extract()</p></li>
<li><p>Simulated 'individuals' are required for case studies of key
    areas.</p></li>
<li><p>Input individual-level data for agent-based or dynamic models are
    required</p></li>
</ul>
    <p>The default integerisation method uses the 'truncate, replicate, sample'
method developed by Robin Lovelace and Dimitris Ballas
<a href='http://www.sciencedirect.com/science/article/pii/S0198971513000240'>http://www.sciencedirect.com/science/article/pii/S0198971513000240</a></p>
<p>Other methods (for example proportional probabilities) may be implemented
at a later date.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>cons</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(
  <span class='st'>"zone"</span>   <span class='kw'>=</span> <span class='no'>letters</span>[<span class='fl'>1</span>:<span class='fl'>3</span>],
  <span class='st'>"a0_49"</span>  <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>8</span>, <span class='fl'>2</span>, <span class='fl'>7</span>),
  <span class='st'>"a_gt50"</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>4</span>, <span class='fl'>8</span>, <span class='fl'>4</span>),
  <span class='st'>"f"</span>      <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>6</span>, <span class='fl'>6</span>, <span class='fl'>8</span>),
  <span class='st'>"m"</span>      <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>6</span>, <span class='fl'>4</span>, <span class='fl'>3</span>),
  <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)

<span class='no'>inds</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(
  <span class='st'>"id"</span>     <span class='kw'>=</span> <span class='no'>LETTERS</span>[<span class='fl'>1</span>:<span class='fl'>5</span>],
  <span class='st'>"age"</span>    <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"a_gt50"</span>, <span class='st'>"a_gt50"</span>, <span class='st'>"a0_49"</span>, <span class='st'>"a_gt50"</span>, <span class='st'>"a0_49"</span>),
  <span class='st'>"sex"</span>    <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"m"</span>, <span class='st'>"m"</span>, <span class='st'>"m"</span>, <span class='st'>"f"</span>, <span class='st'>"f"</span>),
  <span class='st'>"income"</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>2868</span>, <span class='fl'>2474</span>, <span class='fl'>2231</span>, <span class='fl'>3152</span>, <span class='fl'>2473</span>),
  <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)
<span class='no'>vars</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"age"</span>, <span class='st'>"sex"</span>)

<span class='no'>weights</span>     <span class='kw'>&lt;-</span> <span class='fu'><a href='weight.html'>weight</a></span>(<span class='kw'>cons</span> <span class='kw'>=</span> <span class='no'>cons</span>, <span class='kw'>inds</span> <span class='kw'>=</span> <span class='no'>inds</span>, <span class='kw'>vars</span> <span class='kw'>=</span> <span class='no'>vars</span>)
<span class='no'>weights_int</span> <span class='kw'>&lt;-</span> <span class='fu'>integerise</span>(<span class='no'>weights</span>, <span class='kw'>inds</span> <span class='kw'>=</span> <span class='no'>inds</span>)
<span class='fu'>print</span>(<span class='no'>weights_int</span>)</div><div class='output co'>#&gt;      id    age sex income zone
#&gt; 1     A a_gt50   m   2868    a
#&gt; 1.1   A a_gt50   m   2868    a
#&gt; 2     B a_gt50   m   2474    a
#&gt; 3     C  a0_49   m   2231    a
#&gt; 3.1   C  a0_49   m   2231    a
#&gt; 3.2   C  a0_49   m   2231    a
#&gt; 3.3   C  a0_49   m   2231    a
#&gt; 4     D a_gt50   f   3152    a
#&gt; 4.1   D a_gt50   f   3152    a
#&gt; 5     E  a0_49   f   2473    a
#&gt; 5.1   E  a0_49   f   2473    a
#&gt; 5.2   E  a0_49   f   2473    a
#&gt; 5.3   E  a0_49   f   2473    a
#&gt; 5.4   E  a0_49   f   2473    a
#&gt; 1.2   A a_gt50   m   2868    b
#&gt; 2.1   B a_gt50   m   2474    b
#&gt; 2.2   B a_gt50   m   2474    b
#&gt; 3.4   C  a0_49   m   2231    b
#&gt; 4.2   D a_gt50   f   3152    b
#&gt; 4.3   D a_gt50   f   3152    b
#&gt; 4.4   D a_gt50   f   3152    b
#&gt; 4.5   D a_gt50   f   3152    b
#&gt; 5.5   E  a0_49   f   2473    b
#&gt; 3.5   C  a0_49   m   2231    c
#&gt; 3.6   C  a0_49   m   2231    c
#&gt; 4.6   D a_gt50   f   3152    c
#&gt; 4.7   D a_gt50   f   3152    c
#&gt; 4.8   D a_gt50   f   3152    c
#&gt; 5.6   E  a0_49   f   2473    c
#&gt; 5.7   E  a0_49   f   2473    c
#&gt; 5.8   E  a0_49   f   2473    c
#&gt; 5.9   E  a0_49   f   2473    c
#&gt; 5.10  E  a0_49   f   2473    c</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Phil Mike Jones, Robin Lovelace, Morgane Dumont.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
